___INFO___

{
  "displayName": "LinkedIn Event Pixel",
  "description": "Easily deploy an event-specific pixel to track conversions.",
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/png;base64,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",
    "displayName": "",
    "id": "brand_dummy"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "help": "Your LinkedIn partner ID.",
    "alwaysInSummary": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "POSITIVE_NUMBER"
      }
    ],
    "displayName": "partnerId",
    "simpleValueType": true,
    "name": "partnerId",
    "type": "TEXT",
    "valueHint": "1234567"
  },
  {
    "help": "The conversionId of your event pixel.",
    "alwaysInSummary": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "POSITIVE_NUMBER"
      }
    ],
    "displayName": "conversionId",
    "simpleValueType": true,
    "name": "conversionId",
    "type": "TEXT",
    "valueHint": "1234567"
  }
]


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://dc.ads.linkedin.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

/*** Written By Kevin Haag ***/

// Initiate the API
const sendPixel = require('sendPixel');
const log = require('logToConsole');

// Assemble the tracking URL
const trackingUrl = 'https://dc.ads.linkedin.com/collect/?pid=' + data.partnerId + '&conversionId=' + data.conversionId +'&fmt=gif'; 

// Logs for testing
log(trackingUrl); 
log('data =', data);

// Send the pixel
sendPixel(trackingUrl,data.gtmOnSuccess,data.gtmOnFailure); 


___NOTES___

Created on 5/27/2019, 2:13:23 PM
