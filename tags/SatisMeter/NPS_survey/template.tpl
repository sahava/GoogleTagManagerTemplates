___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "SatisMeter NPS surveys",
  "categories": ["SURVEY"],
  "brand": {
    "id": "SatisMeter",
    "displayName": "SatisMeter",
    "thumbnail": "data:image/png;base64,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b+5oPHpPttHyFe3XQrCAedYrO28cm37m5dZPX3G9Mjb9RWq7t9T33V3cMTm4k/rCECxgEMKFVvfYydazr848e6j89EJs/HN8kdXu21b/je3ZpjWG34lhLggWMDih3Qnnpjtv/mrm52923jjWO/6xK6+x5vI+XbEo37Ku2Lkp3zaZTIz4RjH75DAhWMBC6PZCWYazU70Tp3sfnC7PTYWZtiuDr+V+rJnesCi9cXkyMeLSxKeJ1Tdo/xIIFgA1hugKDgDaESwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGr8LzsH8CSOXZbZAAAAAElFTkSuQmCC"
  },
  "description": "Template for simply and efficiently collecting feedback using the Net Promoter System. This template relies on SatisMeter and requires setting up an account there.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "writeKey",
    "displayName": "Write Key",
    "simpleValueType": true,
    "help": "Go to the SatisMeter Installation guide, select web installation. The 5th line of the code will contain your writeKey (it should look like this, writeKey: \"T7BHWRhuytcmuJcK\"). Copy paste the code shown in quotation marks “”"
  }
]


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "satismeter"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "satismeter.q"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "satismeter.l"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://app.satismeter.com/satismeter.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const createArgumentsQueue = require('createArgumentsQueue');
const injectScript = require('injectScript');
const setInWindow = require('setInWindow');
const getTimestamp = require('getTimestamp');

const satismeter = createArgumentsQueue('satismeter', 'satismeter.q');
setInWindow('satismeter.l', getTimestamp(), false);

const url = 'https://app.satismeter.com/satismeter.js';
injectScript(url, data.gtmOnSuccess, data.gtmOnFailure, url);

satismeter({writeKey: data.writeKey});


___NOTES___

Created on 22. 10. 2019 16:18:14
